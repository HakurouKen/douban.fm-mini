var Util=function(a,b,c){var d=function(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase(1)},e=function(a){return"function"===d(a)},f=function(a){return"string"===d(a)},g=function(a){return"array"===d(a)},h=function(a){return Array.prototype.slice.call(a,0)},i=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},j=function(a){var b=(a.method||"get").toString().toUpperCase(),d=a.url||"",e=i(a.data||{}),f=(a.beforeSend||a.beforesend||function(){},a.error||function(){}),g=a.success||function(){};d+="GET"===b&&""!==e?"?"+e:"";var h=new XMLHttpRequest;return h.open(b,d,!0),h.onreadystatechange=function(){if(4==h.readyState)if(200==h.status){var a;try{a=JSON.parse(h.responseText)}catch(b){a=h.responseText}g(a,h.status)}else f(h.status)},h.send("GET"===b?c:e),h},k={},l=function(a,e,f){"boolean"===d(e)&&(f=e,e=c);var g=/[^\w\-_]/.test(a)?new Function("obj","var paras = [];with(obj){ paras.push('"+a.replace(/\s/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("paras.push('").split("\r").join("\\'")+"');}return paras.join('');"):k[a]=f&&k[a]||l(b.getElementById(a).innerHTML);return e?g(e):g};return{type:d,isFunction:e,isString:f,isArray:g,toArray:h,ajax:j,render:l}}(window,document);Object.observe?(Util.observe=Object.observe,Util.unobserve=Object.unobserve,Util.getNotifier=Object.getNotifier):!function(a,b){function c(a){return"object"==typeof HTMLElement?a instanceof HTMLElement:a&&"object"==typeof a&&null!==a&&1===a.nodeType&&"string"==typeof a.nodeName}var d=function(a){var c=a.call(a),d=typeof d;return"object"==typeof b.alert?function(b){return c===a.call(b)||!!b&&typeof b.toString==d&&typeof b.valueOf==d&&/^\s*\bfunction\b/.test(""+b)}:function(b){return c===a.call(b)}}(a.prototype.toString),e=function(){return!!b.setImmediate}(),f=function(){return e?function(a){return setImmediate(a)}:function(a){return setTimeout(a,10)}}(),g=function(){return e?function(a){clearImmediate(a)}:function(a){clearTimeout(a)}}(),h=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},i=function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b},j=function(a){return"undefined"==typeof a?!1:"get"in a||"set"in a},k=function(a,b,c){if("object"!=typeof a)throw new TypeError("Object.observeObject called on non-object");if(d(b)===!1)throw new TypeError("Object.observeObject: Expecting function");if(Object.isFrozen(b)===!0)throw new TypeError("Object.observeObject: Expecting unfrozen function");if(void 0!==c&&!Array.isArray(c))throw new TypeError("Object.observeObject: Expecting acceptList in the form of an array")},l=function(){var a=[],b=function(b,c,d){k(b,c,d),d||(d=["add","update","delete","reconfigure","setPrototype","preventExtensions"]),Object.getNotifier(b).addListener(c,d),-1===a.indexOf(b)?a.push(b):Object.getNotifier(b)._checkPropertyListing()};b.prototype.deliverChangeRecords=function(a){Object.getNotifier(a).deliverChangeRecords()},a.lastScanned=0;var c=function(a){return function(){var b=0,d=a.length,e=new Date,g=!1;for(b=a.lastScanned;d>b&&!g;b++)Object.getNotifier(a[b])._checkPropertyListing(),g=new Date-e>100;a.lastScanned=d>b?b:0,f(c)}}(a);return f(c),b}(),m=function(a){var b=[],c=[],d=[],e=!1,k=[],l=[],m=this;Object.defineProperty(m,"_watching",{enumerable:!0,get:function(a){return function(){return a}}(a)});var n=function(a,b){var c=(typeof a[b],Object.getOwnPropertyDescriptor(a,b));if("getNotifier"===b||j(c)||!c.enumerable)return!1;if(a instanceof Array&&h(b)){var d=k.length;return k[d]=b,l[d]=a[b],!0}return function(b,c){k[b]=c,l[b]=a[c],Object.defineProperty(a,c,{get:function(){return l[b]},set:function(d){i(l[b],d)||(Object.getNotifier(a).queueUpdate(a,c,"update",l[b]),l[b]=d)}})}(k.length,b),!0};m._checkPropertyListing=function(a){var b,c,d,e,f,g=m._watching,i=Object.keys(g),j=0,o=i.length,p=k.slice(0),q=!a;for(g instanceof Array&&(f=g.length),j=0;o>j;j++)b=i[j],d=g[b],c=typeof d,-1===(e=k.indexOf(b))?n(g,b)&&q&&m.queueUpdate(g,b,"add",null,g[b]):(g instanceof Array&&h(b)&&l[e]!==d&&(q&&m.queueUpdate(g,b,"update",l[e],d),l[e]=d),p.splice(p.indexOf(b),1));if(g instanceof Array&&g.length!==f&&q&&m.queueUpdate(g,"length","update",f,g),q)for(o=p.length,j=0;o>j;j++)e=k.indexOf(p[j]),m.queueUpdate(g,p[j],"delete",l[e]),k.splice(e,1),l.splice(e,1)},m.addListener=function(a,d){var e=b.indexOf(a);-1===e?(b.push(a),c.push(d)):c[e]=d},m.removeListener=function(a){var d=b.indexOf(a);d>-1&&(b.splice(d,1),c.splice(d,1))},m.listeners=function(){return b},m.queueUpdate=function(a,b,c,d){this.queueUpdates([{type:c,object:a,name:b,oldValue:d}])},m.queueUpdates=function(a){var b,c=this,h=0,i=a.length||0;for(h=0;i>h;h++)b=a[h],d.push(b);e&&g(e),e=f(function(){e=!1,c.deliverChangeRecords()})},m.deliverChangeRecords=function(){var a=0,e=b.length;for(a=0;e>a;a++)if(b[a]){var f;if(c[a]){f=[];for(var g=0,h=d.length;h>g;g++)-1!==c[a].indexOf(d[g].type)&&f.push(d[g])}else f=d;f.length&&(b[a]===console.log?console.log(f):b[a](f))}d=[]},m.notify=function(b){if("object"!=typeof b||"string"!=typeof b.type)throw new TypeError("Invalid changeRecord with non-string 'type' property");b.object=a,m.queueUpdates([b])},m._checkPropertyListing(!0)},n=[],o=[];a.getNotifier=function(a){var b=o.indexOf(a),c=b>-1?n[b]:!1;return c||(b=o.length,o[b]=a,c=n[b]=new m(a)),c},a.observe=function(a,b,d){return c(a)?void 0:new l(a,b,d)},a.unobserve=function(a,b){k(a,b);var c=o.indexOf(a),d=c>-1?n[c]:!1;d&&(d.removeListener(b),0===d.listeners().length&&(o.splice(c,1),n.splice(c,1)))}}(Util,window);